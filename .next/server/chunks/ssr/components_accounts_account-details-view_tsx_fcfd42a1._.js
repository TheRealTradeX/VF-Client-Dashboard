module.exports=[59490,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(17177),f=a.i(70106);let g=(0,f.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),h=(0,f.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),i=(0,f.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),j=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var k=a.i(15618);function l({account:a,trades:f,journalEntries:h,rules:i,credentials:j}){let[k,l]=(0,c.useState)(null),s=(0,c.useMemo)(()=>{let b=f.filter(a=>a.pnl>0),c=f.filter(a=>a.pnl<0),d=b.length+c.length>0?b.length/(b.length+c.length)*100:a.winRate||0,g=b.reduce((a,b)=>a+b.pnl,0),h=Math.abs(c.reduce((a,b)=>a+b.pnl,0)),i=h>0?g/h:a.profitFactor||0;return[{label:"Balance",value:(0,e.formatCurrency)(a.balance)},{label:"Equity",value:(0,e.formatCurrency)(a.equity)},{label:"Today P&L",value:(0,e.formatCurrency)(a.dailyPnl),positive:a.dailyPnl>=0},{label:"Total P&L",value:(0,e.formatCurrency)(a.totalPnl),positive:a.totalPnl>=0},{label:"Win Rate",value:`${d.toFixed(1)}%`},{label:"Profit Factor",value:i.toFixed(2)}]},[a,f]),[t,u]=(0,c.useState)([]);return(0,c.useEffect)(()=>{a.id,u([...h])},[a.id,h]),(0,b.jsxs)("div",{className:"space-y-6 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-zinc-400",children:[(0,b.jsxs)(d.default,{href:"/accounts",className:"inline-flex items-center gap-2 text-zinc-400 hover:text-white",children:[(0,b.jsx)(g,{className:"h-4 w-4"}),"Back to My Accounts"]}),(0,b.jsx)("span",{children:"/"}),(0,b.jsx)("span",{className:"text-white",children:a.label})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h1",{className:"text-2xl text-white",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:a.type})]}),(0,b.jsx)("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold border ${"active"===a.status?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-yellow-500/10 border-yellow-500/30 text-yellow-400"}`,children:a.phase})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:s.map(a=>(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:a.label}),(0,b.jsx)("div",{className:`text-white text-lg ${!1===a.positive?"text-red-400":a.positive?"text-emerald-400":"text-white"}`,children:a.value})]},a.label))})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 min-w-0",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6 min-w-0",children:[(0,b.jsx)(m,{trades:f,selectedDate:k,onSelectDate:l}),(0,b.jsx)(n,{trades:f,selectedDate:k}),(0,b.jsx)(o,{accountId:a.id,entries:t,onAdd:a=>{u([{...a,id:`J-${Date.now()}`},...t])}})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(p,{rules:i}),(0,b.jsx)(q,{account:a,credentials:j}),(0,b.jsx)(r,{account:a,rules:i})]})]})]})}function m({trades:a,selectedDate:d,onSelectDate:f}){let[g,k]=(0,c.useState)(()=>{let a=new Date;return new Date(a.getFullYear(),a.getMonth(),1)}),l=(0,c.useMemo)(()=>{let b=new Date(g.getFullYear(),g.getMonth(),1),c=b.getDay(),d=new Date(b);return d.setDate(b.getDate()-c),Array.from({length:42}).map((b,c)=>{let e=new Date(d);e.setDate(d.getDate()+c);let f=e.toISOString().slice(0,10),h=a.filter(a=>a.entryTime.slice(0,10)===f),i=h.reduce((a,b)=>a+b.pnl,0);return{date:e,label:e.getDate(),inCurrentMonth:e.getMonth()===g.getMonth(),trades:h,pnl:i}})},[g,a]),m=(0,c.useMemo)(()=>l.filter(a=>a.inCurrentMonth).reduce((a,b)=>a+b.pnl,0),[l]),n=a=>{k(b=>new Date(b.getFullYear(),b.getMonth()+a,1)),f(null)};return(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-lg",children:"P&L Calendar"}),(0,b.jsxs)("div",{className:"text-sm text-zinc-500",children:[g.toLocaleString("default",{month:"long",year:"numeric"})," · Monthly P&L"," ",(0,b.jsx)("span",{className:m>=0?"text-emerald-400":"text-red-400",children:(0,e.formatCurrency)(m)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>n(-1),className:"h-9 w-9 inline-flex items-center justify-center rounded-lg border border-zinc-800 bg-zinc-900 text-zinc-300 hover:text-white","aria-label":"Previous month",children:(0,b.jsx)(i,{className:"h-4 w-4"})}),(0,b.jsxs)("button",{onClick:()=>k(new Date),className:"px-3 h-9 inline-flex items-center gap-2 rounded-lg border border-zinc-800 bg-zinc-900 text-zinc-200 hover:text-white",children:[(0,b.jsx)(h,{className:"h-4 w-4"}),"This month"]}),(0,b.jsx)("button",{onClick:()=>n(1),className:"h-9 w-9 inline-flex items-center justify-center rounded-lg border border-zinc-800 bg-zinc-900 text-zinc-300 hover:text-white","aria-label":"Next month",children:(0,b.jsx)(j,{className:"h-4 w-4"})})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-2 text-xs text-zinc-500",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,b.jsx)("div",{className:"text-center",children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7 gap-2",children:l.map(a=>{let c=a.date.toISOString().slice(0,10),g=d===c,h=a.trades.length>0,i=a.pnl>0?"text-emerald-400":a.pnl<0?"text-red-400":"text-zinc-500";return(0,b.jsxs)("button",{onClick:()=>f(g?null:c),className:`p-2 rounded-lg border text-left transition-colors ${g?"border-emerald-500 bg-emerald-500/10":"border-zinc-900 bg-zinc-900/40 hover:border-zinc-800"} ${a.inCurrentMonth?"opacity-100":"opacity-50"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-zinc-400",children:[(0,b.jsx)("span",{children:a.label}),h&&(0,b.jsx)("span",{className:i,children:(0,e.formatCurrency)(a.pnl,{minimumFractionDigits:0,maximumFractionDigits:0})})]}),h&&(0,b.jsxs)("div",{className:"mt-2 text-[11px] text-zinc-500",children:[a.trades.length," trades"]})]},c)})})]})}function n({trades:a,selectedDate:d}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),p=(0,c.useMemo)(()=>a.filter(a=>{let b=a.entryTime.slice(0,10);return(!d||b===d)&&(!f||a.symbol.toLowerCase()===f.toLowerCase())&&(!h||a.side===h)&&(!j||!!a.setupTag.toLowerCase().includes(j.toLowerCase()))&&(!l||!(b<l))&&(!n||!(b>n))&&!0}),[a,d,f,h,j,l,n]);return(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-6 space-y-4 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-lg",children:"Trades"}),(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"Filtered list by date, symbol, side, setup"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)("input",{value:f,onChange:a=>g(a.target.value),placeholder:"Symbol",className:"h-9 w-28 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"h-9 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,b.jsx)("option",{value:"",children:"Side"}),(0,b.jsx)("option",{value:"LONG",children:"Long"}),(0,b.jsx)("option",{value:"SHORT",children:"Short"})]}),(0,b.jsx)("input",{value:j,onChange:a=>k(a.target.value),placeholder:"Setup",className:"h-9 w-32 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"}),(0,b.jsx)("input",{type:"date",value:l,onChange:a=>m(a.target.value),className:"h-9 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"}),(0,b.jsx)("input",{type:"date",value:n,onChange:a=>o(a.target.value),className:"h-9 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full min-w-[900px] text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left text-zinc-500 border-b border-zinc-800",children:[(0,b.jsx)("th",{className:"py-2 pr-3",children:"ID"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Symbol"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Side"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Size"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Entry Time"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Exit Time"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Duration"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Entry"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Exit"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"P&L"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Comms"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Fees"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Setup"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-zinc-800",children:p.map(a=>(0,b.jsxs)("tr",{className:"text-white",children:[(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:a.id}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.symbol}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.side}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.qty}),(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:new Date(a.entryTime).toLocaleString()}),(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:new Date(a.exitTime).toLocaleString()}),(0,b.jsxs)("td",{className:"py-2 pr-3 text-zinc-400",children:[a.durationMinutes,"m"]}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.entryPrice}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.exitPrice}),(0,b.jsx)("td",{className:`py-2 pr-3 ${a.pnl>=0?"text-emerald-400":"text-red-400"}`,children:(0,e.formatCurrency)(a.pnl)}),(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:(0,e.formatCurrency)(a.commissions)}),(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:(0,e.formatCurrency)(a.fees)}),(0,b.jsx)("td",{className:"py-2 pr-3 text-zinc-400",children:a.setupTag})]},a.id))})]})})]})}function o({accountId:a,entries:d,onAdd:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("Calm");return(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white text-lg",children:"Journal"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Log mindset and lessons for this account."})]}),(0,b.jsxs)("button",{onClick:()=>{f.trim()&&(e({accountId:a,date:new Date().toISOString().slice(0,10),content:f,tags:[],mood:h}),g(""))},className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-500 text-black text-sm hover:bg-emerald-600 transition-colors",children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4"}),"New Entry"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("textarea",{value:f,onChange:a=>g(a.target.value),placeholder:"What did you learn from today's session?",className:"w-full rounded-lg bg-zinc-900 border border-zinc-800 text-sm text-white p-3 focus:outline-none focus:ring-2 focus:ring-emerald-500",rows:3}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm text-zinc-400",children:"Mood"}),(0,b.jsx)("select",{value:h,onChange:a=>i(a.target.value),className:"h-9 rounded-lg bg-zinc-900 border border-zinc-800 px-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:["Calm","Focused","Stressed","Confident"].map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[0===d.length&&(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"No journal entries yet."}),d.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-900 bg-zinc-900/40 p-3 space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-zinc-500",children:[(0,b.jsx)("span",{children:a.date}),(0,b.jsx)("span",{className:"text-emerald-400",children:a.mood})]}),(0,b.jsx)("div",{className:"text-white text-sm",children:a.content}),a.notes&&(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:a.notes})]},a.id))]})]})}function p({rules:a}){return a?(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-5 space-y-3",children:[(0,b.jsx)("h3",{className:"text-white text-lg",children:"Path to Funding"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-zinc-400",children:[(0,b.jsxs)("li",{children:["Profit Target: ",(0,b.jsx)("span",{className:"text-white",children:a.profitTarget})]}),(0,b.jsxs)("li",{children:["Max Daily Loss: ",(0,b.jsx)("span",{className:"text-white",children:a.maxDailyLoss})]}),(0,b.jsxs)("li",{children:["Max Total Loss: ",(0,b.jsx)("span",{className:"text-white",children:a.maxTotalLoss})]}),(0,b.jsxs)("li",{children:["Min Trading Days: ",(0,b.jsx)("span",{className:"text-white",children:a.minTradingDays})]}),(0,b.jsxs)("li",{children:["Consistency: ",(0,b.jsx)("span",{className:"text-white",children:a.consistencyRule})]}),a.trailingDrawdown&&(0,b.jsxs)("li",{children:["Trailing Drawdown: ",(0,b.jsx)("span",{className:"text-white",children:a.trailingDrawdown})]}),a.payoutSplit&&(0,b.jsxs)("li",{children:["Payout Split: ",(0,b.jsx)("span",{className:"text-white",children:a.payoutSplit})]})]})]}):null}function q({account:a,credentials:c}){return(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-5 space-y-3",children:[(0,b.jsx)("h3",{className:"text-white text-lg",children:"Account Info"}),(0,b.jsxs)("div",{className:"text-sm text-zinc-400 space-y-1",children:[(0,b.jsxs)("div",{children:["ID: ",(0,b.jsx)("span",{className:"text-white",children:a.id})]}),(0,b.jsxs)("div",{children:["Size: ",(0,b.jsx)("span",{className:"text-white",children:(0,e.formatCurrency)(a.size,{minimumFractionDigits:0,maximumFractionDigits:0})})]}),(0,b.jsxs)("div",{children:["Start: ",(0,b.jsx)("span",{className:"text-white",children:a.startDate})]})]}),(0,b.jsxs)("div",{className:"pt-2 space-y-2",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"Broker Connections"}),c?.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-white bg-zinc-900/60 border border-zinc-900 rounded-lg px-3 py-2",children:[(0,b.jsx)("span",{children:a.provider}),(0,b.jsx)("span",{className:"connected"===a.status?"text-emerald-400":"text-yellow-400",children:a.status})]},a.provider)),!c?.length&&(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"No connections yet."})]})]})}function r({account:a,rules:c}){return(0,b.jsxs)("div",{className:"bg-zinc-950 border border-zinc-900 rounded-xl p-5 space-y-3",children:[(0,b.jsx)("h3",{className:"text-white text-lg",children:"Risk Controls"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm text-zinc-400",children:[(0,b.jsxs)("li",{children:["Current Balance: ",(0,b.jsx)("span",{className:"text-white",children:(0,e.formatCurrency)(a.balance)})]}),(0,b.jsxs)("li",{children:["Daily P&L Limit: ",(0,b.jsx)("span",{className:"text-white",children:c?.maxDailyLoss??"$—"})]}),(0,b.jsxs)("li",{children:["Total Loss Limit: ",(0,b.jsx)("span",{className:"text-white",children:c?.maxTotalLoss??"$—"})]}),(0,b.jsxs)("li",{children:["Max Contracts: ",(0,b.jsx)("span",{className:"text-white",children:"5"})]}),(0,b.jsxs)("li",{children:["Do not trade past: ",(0,b.jsx)("span",{className:"text-white",children:"3:45 PM ET"})]})]})]})}a.s(["AccountDetailsView",()=>l],59490)}];

//# sourceMappingURL=components_accounts_account-details-view_tsx_fcfd42a1._.js.map